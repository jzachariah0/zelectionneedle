function drawNeedle(canvasId, angle, isBlue) {
    const canvas = document.getElementById(canvasId);
    const ctx = canvas.getContext("2d");

    // Clear the canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Needle properties
    const needleLength = 70;
    const needleColor = isBlue ? "blue" : "red";
    const needleWidth = 4;
    const centerX = canvas.width / 2;
    const centerY = canvas.height - 20;

    // Calculate needle endpoint based on angle
    const endX = centerX + needleLength * Math.cos(angle * Math.PI / 180);
    const endY = centerY + needleLength * Math.sin(angle * Math.PI / 180);

    // Draw the needle
    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.lineTo(endX, endY);
    ctx.lineWidth = needleWidth;
    ctx.strokeStyle = needleColor;
    ctx.stroke();
}

// Adjust each needle's position and color
function updateNeedles() {
    // Example angles and colors
    const mainAngle = -60; // Adjust to your needs
    const georgiaAngle = -30; // Adjust to your needs
    const pennsylvaniaAngle = 20; // Adjust to your needs

    // Determine color based on angle
    const mainIsBlue = mainAngle < 0;
    const georgiaIsBlue = georgiaAngle < 0;
    const pennsylvaniaIsBlue = pennsylvaniaAngle < 0;

    // Draw needles
    drawNeedle("mainElection", mainAngle, mainIsBlue);
    drawNeedle("georgiaElection", georgiaAngle, georgiaIsBlue);
    drawNeedle("pennsylvaniaElection", pennsylvaniaAngle, pennsylvaniaIsBlue);
}

// Initial drawing
updateNeedles();
